getAll(): void {

    this.injectedService.getAll().subscribe({

      next: (response: any[]) => {

        console.log('Respuesta getAll:', response);
        this.data = (response || []).sort((a: any, b: any) => b.id - a.id);

      },

      error: (error: any) => {

        console.error('Error en getAll:', error);
        let errorMessage = 'Error al cargar los datos';

        if (error && error.error) {

          if (error.error.mensaje) {

            errorMessage = error.error.mensaje;

          } else if (error.status === 403) {

            errorMessage =

              'No tiene permisos para acceder a estos datos. Verifique que su sesión esté activa y que tenga los permisos necesarios.';

            console.warn('Error 403 Forbidden: Posible problema de autenticación o permisos');

          }

        }

      }

    });

  }
